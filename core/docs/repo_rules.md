## Правила именования веток

- Основная ветка для разработки: main.
- Каждую ветку наследуем от develop. То есть перед созданием ветки делаем `git checkout develop`
- Персональные ветки (для code-review и пр.): private/<имя_пользователя>/<имя-ветки>
- Ветки фич для совместной разработки: feature/<имя-фичи>
- Ветки релизов: release/<дата>. Ветка создается каждый раз, когда есть готовая версия продукта.

## Правила оформления коммитов

- Первая строчка - <Короткое описание коммита>. С одной стороны по ней должно быть понятно что содержится в этом коммите, при чем не только автору коммита, с другой стороны желательно, чтобы эта cтрока была не очень длинной, чтобы ее можно было целиком прочесть в выводе разных команд.
- Вторая строка - пустая (разделитель).
- Далее несколько строк с описанием коммита: что сделано, зачем и т.д. После описание - еще одна строка-разделитель (Опционально).
- Строка "Signed-off-by". Для автоматической генерации можно запускать `git commit -s`
##### Пример

```
### add A429 & afdx new types sup

Signed-off-by: Ivan Ivanov <ivanivanov@coolmail.com>
```

## Кому куда можно коммитить

- Разработка ведётся на **приватных ветках,** либо на **feature-ветках** в случае плотной совместной разработки.
- На приватных ветках историю переписывать **можно**.
- На master, feature и release-ветках переписывать историю нельзя (кроме отдельных редких случаев, которые необходимо отдельно согласовывать)
## Основные правила

- регулярно делать git fetch для получения последних изменений из репозитория
- **не забывать делать rebase относительно базовой ветки (научиться пользоваться `git rebase -i`)**
- по возможности не делать больших коммитов.
- **НЕ КОММИТИТЬ** несущественные правки (добавления пустых строк, пробелов, изменение отступов и т.п.), особенно вперемешку с существенными правками
- перед коммитом просматривать изменения во всех файлах, например с помощью утилиты gitk
- Желательно добавить в .git/hooks/pre-commit.sample скрипт, который указывает на trailing whitespaces

```bash
for FILE in `exec git diff-index --check $against -- | sed '/^[+-]/d' | (sed -r 's/:[0-9]+:.*//' > /dev/null 2>&1 || sed -E 's/:[0-9]+:.*//') | uniq` ; do
	# Fix them!
	(sed -i 's/[[:space:]]*$//' "$FILE" > /dev/null 2>&1 || sed -i '' -E 's/[[:space:]]*$//' "$FILE")
	git add "$FILE"
	echo "NOTE: removed trailing whitespace from $FILE"
done
```

- Используем **ТАБЫ**. Мы же не хотим, чтобы кто-то умер от лесенки в глазах?

# Всякие полезные штуки.

### Изменить коммит с переписыванием истории.

```bash
// запихиваем изменения в стэш
git stash
```
```bash
// выводим лог
git log --oneline
```
```bash
// выполняем ребейз
git rebase -i HEAD~X
```
```bash
// вытаскиваем изменения из стэша
git stash pop
```
```bash
// добавляем файлы в коммит
git add myfile1 myfile2
```
```bash
// коммитим
git commit --amend --no-edit
```
```bash
// заканчиваем ребейз
git rebase --continue
```

### Изменить коммит с переписыванием истории.

##### Подтягиваем изменения из git

```sh
git fetch
```
##### Обновляем локальную ветку

```sh
git checkout master
git pull origin master
```
##### Выполняем rebase

```sh
git checkout branch
git rebase master
```

